# $Id:$

process PROD =
{
    service = MessageLogger
    {
        untracked vstring destinations = {"cout"}

        untracked vstring categories = { "FwkJob", "SimG4CoreApplication" }

        untracked PSet cout =
        {
            untracked PSet default = { untracked int32 limit = 0 }  # kill all messages in the log
            untracked PSet FwkJob  = { untracked int32 limit = -1 } # but FwkJob category - those unlimitted
            untracked PSet SimG4CoreApplication = { untracked int32 limit = -1 }
        }

        untracked vstring fwkJobReports = {"FrameworkJobReport.xml"}
    }

    service = Timing {}
    
    service = RandomNumberGeneratorService
    {
        untracked uint32 sourceSeed = __SEED1__
        PSet moduleSeeds =
        {
            untracked uint32 VtxSmeared = __SEED2__
            untracked uint32 g4SimHits  = __SEED3__
            untracked uint32 mix        = __SEED4__
        }
    }

    source = MCFileSource
    {
        untracked vstring fileNames = {"file:__MYINPUTFILE__"}
        untracked bool useExtendedAscii = true
    }

    include "IOMC/EventVertexGenerators/data/VtxSmearedFlat.cfi"
    replace VtxSmeared.MinX = 0.0001
    replace VtxSmeared.MaxX = 0.0001
    replace VtxSmeared.MinY = 0.0002
    replace VtxSmeared.MaxY = 0.0002
    replace VtxSmeared.MinZ = 2.
    replace VtxSmeared.MaxZ = 2.

    #include "Configuration/StandardSequences/data/VtxSmearedNoSmear.cff"

    #include "Configuration/EventContent/data/EventContent.cff"
    #include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
    #include "Configuration/StandardSequences/data/Simulation.cff"
    include "SimG4Core/Application/data/SIM-DIGIWithEcalZeroSuppression.cff"

    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
    include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidatesFast.cfi"
    sequence simulation = {VtxSmeared, doG4SimHitsDigiEcalZeroSup ,genParticleCandidates}

    module GEN-SIM-DIGI = PoolOutputModule
    {
        #using FEVTSIMEventContent
        untracked string fileName = "__MYOUTPUTFILE__"
        untracked int32 compressionLevel = 2
    }

    path p1 = { simulation }

    endpath outpath = { GEN-SIM-DIGI }
}
